{{#> layout title="Gästebuch" }}
    <div class="wrapper">
        <div class="uk-container">
            {{#if recordWasAdded}}
            <div class="uk-alert-success" uk-alert>
                <a class="uk-alert-close" uk-close></a>
                Vielen Dank für Ihren Eintrag!
            </div>
            {{/if}}

            <form id="guestbook-form" method="post" class="uk-width-1-2@l uk-align-center">
                <fieldset class="uk-fieldset">
                    <legend class="uk-legend">Eintrag verfassen</legend>

                    <div class="uk-margin">
                        <input class="uk-input {{#if formErrors.name}}uk-form-danger{{/if}}" type="text" name="name" value="{{formData.name}}" placeholder="Max Mustermann">
                        {{#if formErrors.name}}
                        <div class="uk-text-small uk-text-danger">{{formErrors.name}}</div>
                        {{/if}}
                    </div>

                    <div class="uk-margin">
                        <input class="uk-input {{#if formErrors.visited_date}}uk-form-danger{{/if}}" type="text" name="visited_date" value="{{formData.visited_date}}" placeholder="Optional: Datum des Besuchs (Format: 01.01.2000)">
                        {{#if formErrors.visited_date}}
                        <div class="uk-text-small uk-text-danger">{{formErrors.visited_date}}</div>
                        {{/if}}
                    </div>

                    <div class="uk-margin">
                        <select class="uk-select {{#if formErrors.rating}}uk-form-danger{{/if}}" name="rating">
                            {{#select formData.rating}}
                            <option value="">Bewertung</option>
                            <option value="1">1 - Sehr gut</option>
                            <option value="2">2 - Gut</option>
                            <option value="3">3 - Befriedigend</option>
                            <option value="4">4 - Ausreichend</option>
                            <option value="5">5 - Mangelhaft</option>
                            {{/select}}
                        </select>
                        {{#if formErrors.rating}}
                        <div class="uk-text-small uk-text-danger">{{formErrors.rating}}</div>
                        {{/if}}
                    </div>

                    <div class="uk-margin">
                        <textarea class="uk-textarea {{#if formErrors.message}}uk-form-danger{{/if}}" name="message" rows="5" placeholder="Tolles Ambiente, Nette Bedienung, Leckeres Essen, ...">{{formData.message}}</textarea>
                        {{#if formErrors.message}}
                        <div class="uk-text-small uk-text-danger">{{formErrors.message}}</div>
                        {{/if}}
                    </div>

                    <div class="uk-margin">
                        <div class="uk-button-group uk-flex">
                            <button class="uk-button uk-button-primary uk-width-1-2" type="submit">Feedback Abschicken</button>
                            <button class="uk-button uk-button-secondary uk-width-1-2" type="reset">Zurücksetzen</button>
                        </div>
                    </div>
                </fieldset>
            </form>

            <hr class="uk-divider-icon">

            {{#unless entries}}
            <div class="uk-section uk-section-muted uk-text-center">
                <h3>Es sind keine Gästebucheinträge vorhanden!</h3>
            </div>
            {{/unless}}

            {{#each entries}}
            <article class="uk-comment uk-comment-primary uk-margin-medium uk-position-relative">
                <header class="uk-comment-header uk-grid-medium" uk-grid>
                    <div class="uk-width-expand">
                        <h4 class="uk-comment-title uk-margin-remove">
                            <span class="uk-label">{{name}}</span>
                        </h4>
                        <div class="uk-comment-meta">
                            <span class="uk-text-uppercase">{{rating_string}}</span>
                        </div>
                    </div>
                    <div class="uk-width-auto">
                        <div class="uk-comment-meta">
                            Verfasst am: {{authored_date}}<br />
                            {{#if visited_date}}
                            Besucht am: {{visited_date}}
                            {{/if}}
                        </div>
                    </div>
                </header>
                <div class="uk-comment-body">
                    <p>{{message}}</p>
                </div>
            </article>
            {{/each}}
        </div>
    </div>
{{/layout}}
